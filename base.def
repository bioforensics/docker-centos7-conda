bootstrap: library
From: centos:7

%files
    Anaconda3-2020.02-Linux-x86_64.sh
    default.condarc /opt/conda/.condarc

%post
    yum -y update
    yum install -y wget bzip2 git gzip less tar gcc gcc-c++ kernel-devel make which file

    bash Anaconda3-2020.02-Linux-x86_64.sh -p /opt/conda -b
    rm Anaconda3-2020.02-Linux-x86_64.sh
    export PATH=/opt/conda/bin:$PATH
    conda init bash
    conda update -n base conda

%environment
    export LANG=en_US.UTF-8
    export LANGUAGE=en_US:en
    export LC_ALL=en_US.UTF-8
    export PATH=/opt/bin:/opt/conda/bin:$PATH

%help
    This is a minimal CentOS 7 container with basic system libraries installed, as well as a recent version of Anaconda.

%labels
        Author dsommer
